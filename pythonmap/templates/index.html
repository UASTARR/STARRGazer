<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Offline MBTiles Map + Serial UI</title>
    <link rel="stylesheet" href="static/leaflet.css" />
    <link rel="stylesheet" href="static/main.css" />
  </head>
  <body>
    <div class="app">
      <div class="top">
        <div class="map-container" style="flex: 1; position: relative">
          <h1 style="margin: 10px">STARRGazer</h1>
          <div id="graphs">
            {% include 'graphs.html' %}
          </div>
        </div>
        <div
          class="side"
          style="
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 10px;
            box-sizing: border-box;
          "
        >
          <!-- Serial Connection Section -->
          <div
            id="serial-controls"
            style="
              margin-bottom: 20px;
              border-bottom: 1px solid #ccc;
              padding-bottom: 15px;
              margin-right: 20px;
            "
          >
            <h3>Serial Connection</h3>

            <!-- Ports and Baud Rate on same line -->
            <div
              style="
                display: flex;
                gap: 10px;
                align-items: center;
                margin-bottom: 10px;
              "
            >
              <label for="portSelect">Port:</label>
              <select id="portSelect" style="flex: 1">
                <option value="">-- Select Port --</option>
              </select>

              <label for="baudSelect">Baud:</label>
              <select id="baudSelect" style="width: 100px">
                <option value="9600">9600</option>
                <option value="19200">19200</option>
                <option value="38400">38400</option>
                <option value="57600">57600</option>
                <option value="115200" selected>115200</option>
              </select>
            </div>

            <!-- Connect and Disconnect on same line -->
            <div style="display: flex; gap: 10px">
              <button id="connect" style="flex: 1">Connect</button>
              <button id="disconnect" style="flex: 1">Disconnect</button>
            </div>
          </div>

          <!-- Parsed Data Section -->
          <div id="serial-data">
            <h3>Parsed Data</h3>
            <table style="width: 100%; border-collapse: collapse">
              <tbody>
                <tr>
                  <td>Latitude:</td>
                  <td id="lat">--</td>
                </tr>
                <tr>
                  <td>Longitude:</td>
                  <td id="lon">--</td>
                </tr>
                <tr>
                  <td>Altitude (m):</td>
                  <td id="alt">--</td>
                </tr>
                <tr>
                  <td>GPS Fix:</td>
                  <td id="fix">--</td>
                </tr>
                <tr>
                  <td>No. of Sats:</td>
                  <td id="alt">--</td>
                </tr>
                <tr>
                  <td>Temperature:</td>
                  <td id="temp">--</td>
                </tr>
                <tr>
                  <td>Pressure:</td>
                  <td id="pressure">--</td>
                </tr>
                <tr>
                  <td>Roll (°):</td>
                  <td id="roll">--</td>
                </tr>
                <tr>
                  <td>Pitch (°):</td>
                  <td id="pitch">--</td>
                </tr>
                <tr>
                  <td>Yaw (°):</td>
                  <td id="yaw">--</td>
                </tr>
                <tr>
                  <td>Acceleration X (m/s²):</td>
                  <td id="accX">--</td>
                </tr>
                <tr>
                  <td>Acceleration Y (m/s²):</td>
                  <td id="accY">--</td>
                </tr>
                <tr>
                  <td>Acceleration Z (m/s²):</td>
                  <td id="accZ">--</td>
                </tr>
                <tr>
                  <td>Strain Gauge 1 (units):</td>
                  <td id="strain1">--</td>
                </tr>
                <tr>
                  <td>Strain Gauge 2 (units):</td>
                  <td id="strain2">--</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="bottom">
        <h3>Log</h3>
        <pre id="log"></pre>
      </div>
    </div>

    <script src="static/leaflet.js"></script>
    <script src="static/socket.io.min.js"></script>
    <script src="static/js/chart.umd.min.js"></script>
    <script src="static/js/main.js"></script>
  </body>
</html>
